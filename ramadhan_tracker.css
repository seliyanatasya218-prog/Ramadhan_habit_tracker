
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadhan Habit Tracker</title>

<style>
body{
    font-family:'Segoe UI',sans-serif;
    margin:0;
    background:#D8A7B1; /* Dusty Pink */
    color:#5e4b56;
}

header{
    background:#B76E79;
    padding:15px;
    text-align:center;
    color:white;
    font-size:20px;
}

.container{
    max-width:1000px;
    margin:auto;
    padding:20px;
}

.card{
    background:#FFF5F7;
    padding:20px;
    border-radius:15px;
    margin-bottom:20px;
    box-shadow:0 8px 20px rgba(0,0,0,0.08);
}

h2{ color:#B76E79; }

input[type="text"],input[type="password"]{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:8px;
    border:1px solid #e8c7ce;
}

button{
    background:#C08497;
    border:none;
    padding:10px 15px;
    border-radius:10px;
    color:white;
    cursor:pointer;
}
button:hover{
    background:#A26774;
}

table{
    width:100%;
    border-collapse:collapse;
    display:block;
    overflow-x:auto;
}

th,td{
    border:1px solid #f0d6dc;
    padding:5px;
    text-align:center;
    font-size:12px;
}

th{
    background:#C08497;
    color:white;
}

.hidden{display:none;}
</style>
</head>

<body>

<header>üåô Ramadhan Habit Tracker üå∏</header>

<div class="container">

<!-- LOGIN -->
<div id="loginPage" class="card">
<h2>Login / Daftar</h2>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="register()">Daftar</button>
<button onclick="login()">Login</button>
<p id="msg"></p>
</div>

<!-- APP -->
<div id="appPage" class="hidden">

<div class="card">
<h2>Selamat Datang, <span id="userDisplay"></span> ü§ç</h2>
<button onclick="logout()">Logout</button>
<button onclick="resetData()">Reset Checklist</button>
</div>

<div class="card">
<h2>Habit Tracker</h2>
<table id="habitTable">
<thead>
<tr>
<th>Habit</th>
<script>
for(let i=1;i<=30;i++){
document.write("<th>"+i+"</th>");
}
</script>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

</div>

</div>

<script>
let habits=[
"Sholat 5 Waktu",
"Sholat Sunnah",
"Tilawah Qur'an",
"Dzikir",
"Sedekah",
"Jaga Lisan",
"Belajar"
];

function register(){
let u=username.value;
let p=password.value;
if(u&&p){
localStorage.setItem("user_"+u,p);
msg.innerText="Akun berhasil dibuat ü§ç";
}else{
msg.innerText="Isi semua data!";
}
}

function login(){
let u=username.value;
let p=password.value;
if(localStorage.getItem("user_"+u)===p){
localStorage.setItem("currentUser",u);
showApp();
}else{
msg.innerText="Username/Password salah!";
}
}

function logout(){
localStorage.removeItem("currentUser");
location.reload();
}

function showApp(){
loginPage.classList.add("hidden");
appPage.classList.remove("hidden");
let user=localStorage.getItem("currentUser");
userDisplay.innerText=user;
generateTable();
}

function generateTable(){
let tbody=document.querySelector("#habitTable tbody");
tbody.innerHTML="";
let user=localStorage.getItem("currentUser");

habits.forEach((habit,hIndex)=>{
let row="<tr><td>"+habit+"</td>";
for(let d=1;d<=30;d++){
let key=`data_${user}_${hIndex}_${d}`;
let checked=localStorage.getItem(key)=="true"?"checked":"";
row+=`<td><input type='checkbox' ${checked} 
onchange="saveCheck(${hIndex},${d},this.checked)"></td>`;
}
row+="</tr>";
tbody.innerHTML+=row;
});
}

function saveCheck(h,d,val){
let user=localStorage.getItem("currentUser");
let key=`data_${user}_${h}_${d}`;
localStorage.setItem(key,val);
}

function resetData(){
let user=localStorage.getItem("currentUser");
for(let h=0;h<habits.length;h++){
for(let d=1;d<=30;d++){
localStorage.removeItem(`data_${user}_${h}_${d}`);
}
}
generateTable();
}

if(localStorage.getItem("currentUser")){
showApp();
}
</script>

</body>
</html>

